{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '33349547-44f128e159fc9ba4be7374396';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst queryParams = {\n  key: API_KEY,\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nexport async function fetchPhotos(query) {\n  await new Promise(resolve => setTimeout(resolve, 5000))\n  queryParams.q = query;\n  const queryParamsObject = new URLSearchParams();\n\n  for (const param in queryParams) {\n    queryParamsObject.append(param, queryParams[param]);\n  }\n\n  const path = BASE_URL + '?' + queryParamsObject.toString();\n\n  const response = await axios.get(path);\n\n  return response.data.hits;\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst gallery = document.querySelector('.gallery');\n\nfunction getCardMarkup(item) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = item;\n  return `\n        <div class=\"photo-card\">\n          <a href=\"${largeImageURL}\" target=\"_blank\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n          </a>\n          <div class=\"info\">\n            <div class=\"info-item\"><b>${likes}</b>Likes</div>\n            <div class=\"info-item\"><b>${views}</b>Views</div>\n            <div class=\"info-item\"><b>${comments}</b>Comments</div>\n            <div class=\"info-item\"><b>${downloads}</b>Downloads</div>\n          </div>\n        </div>`;\n}\n\nexport function renderGallery(list){\n  const markup = list.map(item => getCardMarkup(item)).join('');\n  gallery.innerHTML = ''; \n  gallery.insertAdjacentHTML('beforeend', markup);\n\n  lightbox.refresh();\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchPhotos } from './js/pixabay-api';\nimport {renderGallery} from './js/render-functions';\n\nconst form = document.querySelector('#searchForm');\nconst loaderContainer = document.querySelector('.loader-container');\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  const query = form.search.value;\n\n  const isEmptyQuery = query.trim().length === 0;\n\n  if (isEmptyQuery) {\n    iziToast.info({\n      message: 'Search should not be empty!',\n    });\n    return;\n  }\n\n  try {\n    loaderContainer.style.display = 'flex';\n    const photos = await fetchPhotos(query);\n\n    if (!photos.length) {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      return;\n    }\n\n    form.search.value = '';\n    renderGallery(photos);\n  } catch (error) {\n    iziToast.error({\n      message: `Oooops...Something went wrong... ${error.message}`,\n    });\n  } finally {\n    loaderContainer.style.display = 'none';\n  }\n});\n"],"names":["API_KEY","BASE_URL","queryParams","fetchPhotos","query","resolve","queryParamsObject","param","path","axios","lightbox","SimpleLightbox","gallery","getCardMarkup","item","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","list","markup","form","loaderContainer","e","iziToast","photos","error"],"mappings":"myBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEXC,EAAc,CAClB,IAAKF,EACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEO,eAAeG,EAAYC,EAAO,CACvC,MAAM,IAAI,QAAQC,GAAW,WAAWA,EAAS,GAAI,CAAC,EACtDH,EAAY,EAAIE,EAChB,MAAME,EAAoB,IAAI,gBAE9B,UAAWC,KAASL,EAClBI,EAAkB,OAAOC,EAAOL,EAAYK,CAAK,CAAC,EAGpD,MAAMC,EAAOP,EAAW,IAAMK,EAAkB,SAAQ,EAIxD,OAFiB,MAAMG,EAAM,IAAID,CAAI,GAErB,KAAK,IACvB,CCxBA,IAAIE,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAED,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAcC,EAAM,CAC3B,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA;AAAA,qBAEYE,CAAa;AAAA,wBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,wCAGVC,CAAK;AAAA,wCACLC,CAAK;AAAA,wCACLC,CAAQ;AAAA,wCACRC,CAAS;AAAA;AAAA,eAGjD,CAEO,SAASC,EAAcC,EAAK,CACjC,MAAMC,EAASD,EAAK,IAAIT,GAAQD,EAAcC,CAAI,CAAC,EAAE,KAAK,EAAE,EAC5DF,EAAQ,UAAY,GACpBA,EAAQ,mBAAmB,YAAaY,CAAM,EAE9Cd,EAAS,QAAO,CAClB,CCnCA,MAAMe,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAkB,SAAS,cAAc,mBAAmB,EAElED,EAAK,iBAAiB,SAAU,MAAME,GAAK,CACzCA,EAAE,eAAc,EAChB,MAAMvB,EAAQqB,EAAK,OAAO,MAI1B,GAFqBrB,EAAM,KAAI,EAAG,SAAW,EAE3B,CAChBwB,EAAS,KAAK,CACZ,QAAS,6BACf,CAAK,EACD,MACD,CAED,GAAI,CACFF,EAAgB,MAAM,QAAU,OAChC,MAAMG,EAAS,MAAM1B,EAAYC,CAAK,EAEtC,GAAI,CAACyB,EAAO,OAAQ,CAClBD,EAAS,MAAM,CACb,QACE,0EACV,CAAO,EACD,MACD,CAEDH,EAAK,OAAO,MAAQ,GACpBH,EAAcO,CAAM,CACrB,OAAQC,EAAO,CACdF,EAAS,MAAM,CACb,QAAS,oCAAoCE,EAAM,OAAO,EAChE,CAAK,CACL,QAAY,CACRJ,EAAgB,MAAM,QAAU,MACjC,CACH,CAAC"}